<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="chroom">
	<resultMap type="chrvo" id="cchrvo">
		<id column="CHA_ROOM_ID" property="chaRoomId"/>
		<result column="ROOM_CONTENTS" property="roomContents"/>
		<result column="ROOM_LASTDATE" property="roomLastDate"/>
	</resultMap>
	
	
	<select id="viewRoomId" resultType="chrvo">
		SELECT * FROM CHATTROOM WHERE CHA_ROOM_ID = #{chaRoomId}
	</select>
	
	<insert id="addRoomId">
		INSERT INTO CHATTROOM (CHA_ROOM_ID) VALUES(#{chaRoomId})
	</insert>
	
	<update id="updateChattRoom">
		UPDATE CHATTROOM SET ROOM_CONTENTS = #{roomContents} , ROOM_LASTDATE = SYSDATE WHERE CHA_ROOM_ID = #{chaRoomId}
	</update>
	
	<select id="selectListChattRoom" resultType="chrvo">
		SELECT * FROM CHATTROOM 
	</select>
	
	<select id="searchReqChattRoom" resultType="chrvo">
		SELECT *  FROM CHATTROOM WHERE CHA_ROOM_ID LIKE '%'||#{chaRoomId}||'%'
	</select>
	
	<select id="searchListChattRoom" resultType="chrvo">
		SELECT *  FROM CHATTROOM WHERE CHA_ROOM_ID LIKE '%admin%'
	</select>
	
	<select id="selectCount" resultType="_int">
		SELECT COUNT(*) CNT FROM CHATTROOM
	</select>
	
	<select id="allListChattRoom" resultType="chrvo">
		SELECT *  FROM CHATTROOM 
	</select>
	
	<select id="searchAllListChattRoom" resultType="chrvo">
		SELECT *  FROM CHATTROOM 
	</select>
	
	
	<select id="searchRoomCount" resultType="_int" >
		SELECT COUNT(*) cnt FROM CHATTROOM where CHA_ROOM_ID LIKE '%'||#{chaRoomId}||'%'
	</select>
	
	
</mapper>
